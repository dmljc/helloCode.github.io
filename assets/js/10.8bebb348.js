(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{206:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"工具-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具-git"}},[s._v("#")]),s._v(" 工具 Git")]),s._v(" "),a("h2",{attrs:{id:"全能图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全能图"}},[s._v("#")]),s._v(" 全能图")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://t1.picb.cc/uploads/2019/09/09/gXSUxe.jpg",alt:""}})]),s._v(" "),a("p",[s._v("注：此图借鉴自业界响当当的人物阮一峰老师。")]),s._v(" "),a("h2",{attrs:{id:"rebase"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rebase"}},[s._v("#")]),s._v(" Rebase")]),s._v(" "),a("p",[s._v("该命令可以让和 "),a("code",[s._v("merge")]),s._v(" 命令得到的结果基本是一致的。")]),s._v(" "),a("p",[s._v("通常使用 "),a("code",[s._v("merge")]),s._v(" 操作将分支上的代码合并到 "),a("code",[s._v("master")]),s._v(" 中，分支样子如下所示")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://t1.picb.cc/uploads/2019/09/09/gXjARg.md.png",alt:""}})]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("rebase")]),s._v(" 后，会将 "),a("code",[s._v("develop")]),s._v(" 上的 "),a("code",[s._v("commit")]),s._v(" 按顺序移到 "),a("code",[s._v("master")]),s._v(" 的第三个 "),a("code",[s._v("commit")]),s._v(" 后面，分支样子如下所示")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://t1.picb.cc/uploads/2019/09/09/gXp4ST.png",alt:""}})]),s._v(" "),a("p",[s._v("使用 rebase 应该在需要被 rebase 的分支上操作，并且该分支是本地分支。如果 "),a("code",[s._v("develop")]),s._v(" 分支需要 rebase 到 "),a("code",[s._v("master")]),s._v(" 上去，那么应该如下操作")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// current branch develop")]),s._v("\ngit rebase master\n\ngit checkout master\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用于将 master 上的 HEAD 移动到最新的 commit")]),s._v("\ngit merge develop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("rebase 对比 merge，优势在于合并后的结果很清晰，只有一条线，劣势在于如果一旦出现冲突，解决冲突很麻烦，可能要解决多个冲突，但是 merge 出现冲突只需要解决一次。")]),s._v(" "),a("h2",{attrs:{id:"stash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stash"}},[s._v("#")]),s._v(" Stash")]),s._v(" "),a("p",[a("code",[s._v("stash")]),s._v(" 用于临时保存工作目录的改动。开发中可能会遇到代码写一半需要切分支打包的问题，如果这时候你不想 "),a("code",[s._v("commit")]),s._v(" 的话，就可以使用该命令。")]),s._v(" "),a("h3",[s._v("储藏操作：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("git stash \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 或者你想给 stash 填写储藏信息可以使用 save，类似填写 commit 信息")]),s._v("\n\ngit stash save "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'message'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意：")]),s._v(" "),a("p",[s._v("没有被 track 的文件 不会被 stash 起来，因为 Git 会忽略它们。如果想把这些文件也一起 stash，可以加上 "),a("code",[s._v("-u")]),s._v(" 参数，它是 "),a("code",[s._v("--include-untracked")]),s._v(" 的简写。")])]),s._v(" "),a("h3",[s._v("查看现有 stash ")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("git stash list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",[s._v("移除 stash ")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("git stash drop stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将记录列表中取出的对应暂存记录删除")]),s._v("\n\ngit stash clear "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除所有缓存的stash")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",[s._v("取出操作：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 取出最近一次暂存并删除记录列表中对应记录")]),s._v("\ngit stash pop\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 或者你储藏的操作不止一次，可以通过 apply 取出相应的记录")]),s._v("\n\ngit stash apply stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("X")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// X 是指定的 stash 版本。但是，相对 pop 列表中对应记录还在")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("这样你之前临时保存的代码又回来了。")]),s._v(" "),a("h2",{attrs:{id:"reset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reset"}},[s._v("#")]),s._v(" Reset")]),s._v(" "),a("p",[s._v("HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 撤销最新的 commit")]),s._v("\ngit reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("hard "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 撤销指定的 commit")]),s._v("\ngit reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("hard commit_id\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 穿梭前，用git log可以查看提交历史，以便确定要回退到哪个版本。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 要重返未来，用git reflog查看命令历史，以便确定要回到未来的哪个版本。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("但是 "),a("code",[s._v("reset")]),s._v(" 的本质并不是删除了 commit，而是重新设置了 HEAD 和它指向的 branch。")]),s._v(" "),a("h2",{attrs:{id:"commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commit"}},[s._v("#")]),s._v(" Commit")]),s._v(" "),a("p",[s._v("如果在未 push 之前想修改 commit 可以采用 amend 「修正」")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 修改最新的 commit 信息")]),s._v("\ngit commit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("amend\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 修改指定的 commit 修改")]),s._v("\ngit rebase "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i commit_id  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 父级commit_id")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 然后，跳出 vim 界面")]),s._v("\npick be12bef 我是修改之前的倒数第二个 commit 信息\npick bf232ne 我是修改之前的倒数第一个 commit 信息\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假如我想修改倒数第一个的 commit 信息")]),s._v("\npick be12bef 我是修改之前的倒数第二个 commit 信息\nr bf232ne 修改之后的倒数第一个 commit 信息！！\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("修改完之后，点击 esc :wq 保存退出。")]),s._v(" "),a("h2",{attrs:{id:"checkout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checkout"}},[s._v("#")]),s._v(" Checkout")]),s._v(" "),a("p",[s._v("checkout 除了切换分支，还可以把未 add 的本地修改撤销")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("git checkout 目标文件\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 撤销本地全部的修改")]),s._v("\ngit checkout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"tag"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tag"}},[s._v("#")]),s._v(" Tag")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("git tag \t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看所有tag")]),s._v("\ngit tag "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'v1.3*'")]),s._v("\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// -l 命令使用通配符来过滤tag")]),s._v("\n\ngit tag tagName \t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建tag")]),s._v("\ngit tag "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a tagName "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'XXX'")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建tag的同时添加tag的commit信息 =======》很重要")]),s._v("\n\ngit push origin tagName\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 把tag推送到远端")]),s._v("\ngit push origin —tags\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 推送本地所有tag到远端")]),s._v("\n\ngit show tagName\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看某个tag的详细信息")]),s._v("\n\ngit tag tagName commitID\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 为历史版本添加tag(方式一)")]),s._v("\ngit tag "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a tagName commitID "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'XXX'")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 为历史版本添加tag（方式二）")]),s._v("\n\ngit tag "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d tagName  \t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除本地tag")]),s._v("\ngit push origin —"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" tagName\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除远端tag（方式一）")]),s._v("\ngit push origin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("refs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tags"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tagName\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除远端tag（方式二)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);